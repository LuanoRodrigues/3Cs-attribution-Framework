import { SearchPanel } from "../../panels/retrieve/SearchPanel";
import type { RetrieveQuery } from "../../shared/types/retrieve";
import type { ToolDefinition, ToolHandle } from "../../registry/toolRegistry";

export function createRetrieveTool(): ToolDefinition {
  return {
    type: "retrieve",
    title: "Retrieve",
    create: ({ metadata, onUpdate }): ToolHandle => {
      const initialQuery = (metadata as { query?: RetrieveQuery } | undefined)?.query;
      const panel = new SearchPanel(initialQuery);
      if (onUpdate) {
        panel.onChange((query) => onUpdate({ query }));
      }
      return {
        element: panel.element,
        getMetadata: () => ({ query: panel.getQuery() })
      };
    }
  };
}